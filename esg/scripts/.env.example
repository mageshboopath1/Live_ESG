# ============================================================================
# ESG Pipeline Scripts - Local Environment Configuration Template
# ============================================================================
# Copy this file to .env and update with your actual values.
# This configuration is for running pipeline scripts locally.
# ============================================================================

# ============================================================================
# PostgreSQL Database Configuration (localhost)
# ============================================================================
DB_HOST=localhost
DB_PORT=5432
DB_NAME=moz
DB_USER=drfitz
DB_PASSWORD=your_password_here

# ============================================================================
# MinIO Object Storage Configuration (localhost)
# ============================================================================
MINIO_ENDPOINT=http://localhost:9000
MINIO_ACCESS_KEY=esg_minio
MINIO_SECRET_KEY=esg_secret
BUCKET_NAME=esg-reports
MINIO_SECURE=false

# ============================================================================
# RabbitMQ Message Queue Configuration (localhost)
# ============================================================================
RABBITMQ_HOST=localhost
RABBITMQ_PORT=5672
RABBITMQ_DEFAULT_USER=esg_rabbitmq
RABBITMQ_DEFAULT_PASS=esg_secret

# Queue names
QUEUE_NAME=embedding-tasks
EXTRACTION_QUEUE_NAME=extraction-tasks

# ============================================================================
# Google Generative AI Configuration
# ============================================================================
GOOGLE_API_KEY=your_google_api_key_here
GENAI_API_KEY=your_google_api_key_here

# ============================================================================
# Embedding Configuration
# ============================================================================
EMBEDDING_MODEL=gemini-embedding-001
EMBEDDING_DIMENSIONS=3072
EMBEDDING_BATCH_SIZE=32
CHUNK_SIZE=1500
CHUNK_OVERLAP=200
MAX_CHUNKS_PER_DOCUMENT=1000

# Retry configuration
EMBEDDING_MAX_RETRIES=3
EMBEDDING_RETRY_DELAY=1.0
EMBEDDING_RETRY_BACKOFF=2.0

# ============================================================================
# Extraction Configuration
# ============================================================================
EXTRACTION_MODEL=gemini-2.0-flash-exp
EXTRACTION_EMBEDDING_MODEL=gemini-embedding-001
EXTRACTION_EMBEDDING_DIMENSIONS=3072
EXTRACTION_BATCH_SIZE=10
CHECK_EMBEDDINGS_BEFORE_EXTRACTION=true

# Retry configuration
EXTRACTION_MAX_RETRIES=3
EXTRACTION_RETRY_DELAY=1.0
EXTRACTION_RETRY_BACKOFF=2.0

# Embedding check configuration
EMBEDDING_CHECK_MAX_ATTEMPTS=10
EMBEDDING_CHECK_DELAY=30

# ============================================================================
# Ingestion Configuration
# ============================================================================
EXTRACTION_TASK_DELAY=300
INGESTION_MAX_RETRIES=3
INGESTION_RETRY_DELAY=1.0
MAX_CONCURRENT_DOWNLOADS=5

# ============================================================================
# Pipeline Orchestration Configuration
# ============================================================================
# Queue monitoring timeouts (in seconds)
EMBEDDING_TIMEOUT=3600
EXTRACTION_TIMEOUT=7200

# Queue monitoring intervals (in seconds)
QUEUE_CHECK_INTERVAL=10
EMPTY_QUEUE_WAIT=30
PROGRESS_LOG_INTERVAL=60

# RabbitMQ connection settings
RABBITMQ_HEARTBEAT=600
RABBITMQ_BLOCKED_TIMEOUT=300

# Google AI rate limiting
GOOGLE_API_RPM=60
GOOGLE_API_MAX_CONCURRENT=5

# ============================================================================
# General Settings
# ============================================================================
LOG_LEVEL=INFO
DEBUG=false
